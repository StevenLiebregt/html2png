<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>HTML to PNG</title>

    <!-- Stylesheets -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <style type="text/css">
        .innerbox {float: left; width: 48%; border: 1px solid #ccc; padding: 10px; max-height: 250px;}
        .preview {width: 98%; border: 1px solid #ccc; min-height: 400px;}
        iframe {width: 100%; border: .5px solid red; min-height: 400px;}
    </style>
</head>
<body>

    <div id="container">
        <div id="box">
            <textarea id="editor-html" class="innerbox html" placeholder="Enter HTML here"></textarea>
            <textarea id="editor-css" class="innerbox css" placeholder="Enter CSS here"></textarea>

            <div class="innerbox preview">
                <iframe id="live_update">
                    <!DOCTYPE html>
                    <html lang="en">
                    <head><meta charset="utf-8"></head>
                    <body></body>
                    </html>
                </iframe>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/html2canvas.js"></script>

    <script type="text/javascript">
        $(function() {

            function fetchHtml() {
                return $('#editor-html').val();
            }

            function fetchCss() {
                return $('#editor-css').val();
            }

            $('.innerbox').on('keyup', function() {
                var target = $('#live_update')[0].contentWindow.document;
                target.open();
                target.close();

                var html = fetchHtml();
                var css = fetchCss();

                $('body', target).append(html);
                $('head', target).append('<style>' + css + '</style>');
            })

        })
    </script>
</body>
</html>